---
title: 'Face'
description: 'Filter by detected faces of upload or existing images'
icon: face-smile
---

Beyond the person filter (`p:___`), celebrities can also be searched by the face of uploaded query image.

The first step is to upload a image by using the `/query_files` endpoint. If a image with 3 faces is upoloaded, the `/query_files` response is something similar like this:

```json
{
  "img_ref": 10405030202,
  "faces": [
    [0.4, 0.2, 0.8, 0.4], // face 1
    [0.1, 0.2, 0.3, 0.4], // face 2
    [0.1, 0.2, 0.3, 0.4], // face 3
  ]
}
```

The resopnse includes both the image reference and the list of faces positions sorted from bigger to smaller. The face postion is a array of 4 numbers specifiyng the top-left and bottom-right points of the face rectangle.


To use the faces of uploaded images as a face filter the sysntax is the following:

```
f:<image reference>_<face number>
```

## Examples

- `f:10405030202_1` Filter images that contains the face 1 of image 10405030202
- `f:10405030202_2` Filter images that contains the face 1 of image 10405030202
- `f:10405030202_3` Filter images that contains the face 1 of image 10405030202
- `f:10405030202_1 & f:10405030202_3` Filter images that contains both face 1 and 3 of image 10405030202
- `f:10405030202_1 & f:123456789_4` Filter images that contains both faces of different uploaded images.
  